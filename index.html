<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>NotMyWallet ‚Äì PROFESSIONAL REGISTRY</title>

  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/4.2.2/web3.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --neon-g: #00ff41;
      --neon-p: #9d00ff;
      --bg-dark: #030305;
      --glass: rgba(20, 20, 25, 0.7);
      --border: rgba(255, 255, 255, 0.1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background-color: var(--bg-dark);
      color: #fff;
      font-family: 'Space Grotesk', sans-serif;
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
      overflow-x: hidden;
      background-image: 
        linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px);
      background-size: 30px 30px;
    }

    /* --- VISUAL FX --- */
    .scanline {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
      background-size: 100% 4px; pointer-events: none; z-index: 999; opacity: 0.3;
    }
    
    .glow-orb {
      position: fixed; width: 600px; height: 600px; border-radius: 50%;
      background: radial-gradient(circle, rgba(157,0,255,0.15) 0%, rgba(0,0,0,0) 70%);
      top: -200px; left: 50%; transform: translateX(-50%); z-index: -1; pointer-events: none;
    }

    /* --- LAYOUT --- */
    .app-container {
      max-width: 1200px; width: 95%; margin: 20px auto;
      display: grid; grid-template-columns: 1fr 1fr; gap: 40px;
      align-items: center; min-height: 80vh;
    }

    @media(max-width: 900px) { .app-container { grid-template-columns: 1fr; text-align: center; } }

    /* --- BRANDING --- */
    .header { grid-column: span 2; display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 1px solid var(--border); width: 100%; margin-bottom: 20px; }
    .logo-group { display: flex; align-items: center; gap: 15px; }
    .logo-img { 
      width: 48px; height: 48px; border-radius: 12px; 
      background: url('https://i.imgur.com/vEnlNJU.jpg') center/cover;
      border: 1px solid var(--neon-g); box-shadow: 0 0 15px rgba(0,255,65,0.3);
    }
    .brand-name { font-size: 1.5rem; font-weight: 700; letter-spacing: -1px; }
    .brand-name span { color: var(--neon-g); }

    /* --- LEFT COLUMN (TEXT) --- */
    .hero-text h1 {
      font-size: 4rem; line-height: 0.95; text-transform: uppercase; margin-bottom: 20px;
      text-shadow: 0 0 30px rgba(0,255,65,0.2);
    }
    .hero-text h1 span { color: transparent; -webkit-text-stroke: 1px var(--neon-p); }
    .hero-sub { color: #888; font-size: 1.1rem; line-height: 1.6; margin-bottom: 30px; font-family: 'JetBrains Mono', monospace; }
    .hero-sub strong { color: #fff; text-decoration: underline; text-decoration-color: var(--neon-g); }

    /* --- RIGHT COLUMN (INTERFACE) --- */
    .interface-card {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 30px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      position: relative; overflow: hidden;
    }
    .interface-card::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
      background: linear-gradient(90deg, var(--neon-g), var(--neon-p));
    }

    /* --- NETWORK SELECTOR --- */
    .label-sm { font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; color: #666; margin-bottom: 10px; display: block; text-transform: uppercase; letter-spacing: 1px; }
    
    .net-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 25px; }
    .net-btn {
      background: rgba(255,255,255,0.03); border: 1px solid #333; color: #888;
      padding: 12px; border-radius: 8px; cursor: pointer; font-weight: 700; transition: 0.3s;
    }
    .net-btn:hover { border-color: #fff; color: #fff; }
    .net-btn.active {
      background: var(--neon-g); color: #000; border-color: var(--neon-g);
      box-shadow: 0 0 20px rgba(0,255,65,0.4);
    }

    /* --- STATUS & ACTION --- */
    .console-log {
      font-family: 'JetBrains Mono', monospace; font-size: 0.85rem;
      background: #000; border: 1px solid #333; padding: 15px;
      border-radius: 8px; color: var(--neon-g); margin-bottom: 20px;
      min-height: 50px; display: flex; align-items: center;
    }
    .console-log a { color: #fff; text-decoration: underline; }

    .btn-main {
      width: 100%; padding: 18px; border: none; border-radius: 12px;
      font-size: 1rem; font-weight: 700; text-transform: uppercase; cursor: pointer;
      transition: 0.2s; margin-bottom: 12px; font-family: 'Space Grotesk', sans-serif;
    }
    .btn-connect { background: #fff; color: #000; }
    .btn-connect:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255,255,255,0.2); }
    
    .btn-burn {
      background: linear-gradient(45deg, #ff0040, #ff4000); color: #fff;
      opacity: 0.3; pointer-events: none;
    }
    .btn-burn.ready { opacity: 1; pointer-events: auto; box-shadow: 0 0 30px rgba(255,0,64,0.4); }
    .btn-burn:hover { transform: scale(1.02); }

    .fee-display { text-align: center; font-size: 0.8rem; color: #555; font-family: 'JetBrains Mono', monospace; }

    /* --- BACKGROUND ICONS --- */
    .bg-icon { position: absolute; font-size: 100px; opacity: 0.05; z-index: -1; animation: float 10s infinite ease-in-out; }
    @keyframes float { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-20px); } }

  </style>
</head>
<body>

  <div class="scanline"></div>
  <div class="glow-orb"></div>

  <div class="bg-icon" style="top: 10%; left: 5%;">üé≠</div>
  <div class="bg-icon" style="bottom: 10%; right: 5%;">üë∫</div>
  <div class="bg-icon" style="top: 40%; right: 40%; font-size: 150px;">‚ò†Ô∏è</div>

  <div class="app-container">
    
    <div class="hero-text">
      <div class="logo-group" style="margin-bottom: 30px;">
        <div class="logo-img"></div>
        <div class="brand-name">NOTMY<span>WALLET</span></div>
      </div>
      <h1>Burn It.<br><span>Flag It.</span><br>Leave It.</h1>
      <p class="hero-sub">
        Registry of Dead Wallets. <br>
        <strong>Flag your compromised address on-chain forever.</strong><br>
        Prevent future funds from being sent to a hacker.
      </p>
      <img src="https://i.imgur.com/3vZfK5L.png" style="width: 100%; border-radius: 20px; opacity: 0.8; border: 1px solid #333;" alt="Pepe Visual">
    </div>

    <div class="interface-card">
      
      <span class="label-sm">1. SELECT NETWORK</span>
      <div class="net-grid">
        <button class="net-btn active" id="btn-SOL" onclick="setChain('SOL')">SOL</button>
        <button class="net-btn" id="btn-ETH" onclick="setChain('ETH')">ETH</button>
        <button class="net-btn" id="btn-BASE" onclick="setChain('BASE')">BASE</button>
        <button class="net-btn" id="btn-BNB" onclick="setChain('BNB')">BNB</button>
      </div>

      <span class="label-sm">2. CONNECTION STATUS</span>
      <div id="console" class="console-log">> System Ready. Select Network.</div>

      <button id="connectBtn" class="btn-main btn-connect" onclick="connectWallet()">Connect Wallet</button>
      <button id="burnBtn" class="btn-main btn-burn" onclick="burnWallet()">üî• BURN & FLAG ADDRESS</button>

      <div id="feeInfo" class="fee-display">Est. Fee: ~0.001 Native Token</div>
    </div>

  </div>

  <script>
    // --- CONFIGURATION (ADRESSES & RPC) ---
    const TREASURY_EVM = "0xb454640B8AA2a7974586c121c200541118d01982";
    const TREASURY_SOL = "zeEcyxGeM297wVYXKRjkKFdG1K6EAYwn3CjbajEnYGi";
    const SOL_RPC = "https://solana-rpc.publicnode.com"; 
    const MEMO_ID = "MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr";

    // --- STATE ---
    let currentChain = 'SOL';
    let userAccount = null;
    let web3Instance = null;

    // --- UI FUNCTIONS ---
    function setChain(chain) {
        currentChain = chain;
        document.querySelectorAll('.net-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + chain).classList.add('active');
        
        const ticker = chain === 'SOL' ? 'SOL' : (chain === 'BNB' ? 'BNB' : 'ETH');
        document.getElementById('feeInfo').innerText = `Est. Fee: 0.001 ${ticker}`;
        document.getElementById('console').innerText = `> Selected ${chain}. Ready to connect.`;
        
        // Reset
        userAccount = null;
        document.getElementById('burnBtn').classList.remove('ready');
        document.getElementById('connectBtn').innerText = "Connect Wallet";
    }

    // --- CONNECT WALLET ---
    async function connectWallet() {
        try {
            document.getElementById('console').innerText = "> Detecting wallet...";

            if (currentChain === 'SOL') {
                // SOLANA
                if (!window.solana || !window.solana.isPhantom) return alert("Phantom Wallet not found!");
                await window.solana.connect();
                userAccount = window.solana.publicKey.toString();
            } else {
                // EVM (ETH, BASE, BNB)
                if (!window.ethereum) return alert("MetaMask / Rabby not found!");
                web3Instance = new Web3(window.ethereum);
                await window.ethereum.request({ method: 'eth_requestAccounts' });
                const accounts = await web3Instance.eth.getAccounts();
                userAccount = accounts[0];

                // SWITCH NETWORK AUTOMATICALLY
                let chainIdHex;
                if (currentChain === 'BASE') chainIdHex = '0x2105'; // 8453
                if (currentChain === 'BNB')  chainIdHex = '0x38';   // 56
                if (currentChain === 'ETH')  chainIdHex = '0x1';    // 1
                
                try {
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: chainIdHex }],
                    });
                } catch (err) {
                    console.log("Switch error (User rejected or network missing)");
                }
            }

            document.getElementById('console').innerHTML = `> Connected: <span style="color:#00ff41">${userAccount.slice(0,6)}...</span>`;
            document.getElementById('connectBtn').innerText = "CONNECTED";
            document.getElementById('burnBtn').classList.add('ready');

        } catch (e) {
            console.error(e);
            document.getElementById('console').innerText = "> Connection Failed.";
        }
    }

    // --- BURN FUNCTION (THE CRITICAL FIX) ---
    async function burnWallet() {
        if (!userAccount) return alert("Connect wallet first!");
        document.getElementById('console').innerText = "> Processing Transaction...";

        if (currentChain === 'SOL') {
            await burnSolana();
        } else {
            await burnEVM();
        }
    }

    async function burnSolana() {
        try {
            const connection = new solanaWeb3.Connection(SOL_RPC, "confirmed");
            const tx = new solanaWeb3.Transaction();

            // 1. TRANSFERT 0.001 SOL (Fixe)
            tx.add(solanaWeb3.SystemProgram.transfer({
                fromPubkey: window.solana.publicKey,
                toPubkey: new solanaWeb3.PublicKey(TREASURY_SOL),
                lamports: 1000000 // 0.001 SOL
            }));

            // 2. MEMO (Flag)
            tx.add(new solanaWeb3.TransactionInstruction({
                keys: [{ pubkey: window.solana.publicKey, isSigner: true, isWritable: true }],
                programId: new solanaWeb3.PublicKey(MEMO_ID),
                data: new TextEncoder().encode("NMW FLAG: COMPROMISED")
            }));

            const { blockhash } = await connection.getLatestBlockhash();
            tx.recentBlockhash = blockhash;
            tx.feePayer = window.solana.publicKey;

            const { signature } = await window.solana.signAndSendTransaction(tx);
            
            document.getElementById('console').innerHTML = `‚úÖ BURNED!<br><a href="https://solscan.io/tx/${signature}" target="_blank">View Proof</a>`;

        } catch (e) {
            console.error(e);
            document.getElementById('console').innerText = "> Failed: " + (e.message || "Check SOL Balance");
        }
    }

    async function burnEVM() {
        try {
            // ‚ö†Ô∏è CORRECTION CRITIQUE DU MONTANT (Plus de 1.15 BNB)
            // On utilise une chaine de caract√®res pour √™tre s√ªr du Wei
            const VALUE_WEI = "1000000000000000"; // 0.001 ETH/BNB exact
            
            const hexData = web3Instance.utils.utf8ToHex("NMW FLAG: COMPROMISED");

            const txHash = await window.ethereum.request({
                method: 'eth_sendTransaction',
                params: [{
                    from: userAccount,
                    to: TREASURY_EVM,
                    value: VALUE_WEI, // Utilisation de la valeur fixe
                    data: hexData
                }]
            });

            let explorer = "etherscan.io";
            if (currentChain === 'BASE') explorer = "basescan.org";
            if (currentChain === 'BNB') explorer = "bscscan.com";

            document.getElementById('console').innerHTML = `‚úÖ BURNED!<br><a href="https://${explorer}/tx/${txHash}" target="_blank">View Proof</a>`;

        } catch (e) {
            console.error(e);
            document.getElementById('console').innerText = "> Failed. Check Gas/Balance.";
        }
    }
  </script>
</body>
</html>
